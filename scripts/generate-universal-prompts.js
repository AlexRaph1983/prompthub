const { PrismaClient } = require('@prisma/client');
const CONTENT_STRATEGY = require('./content-strategy.js');

const prisma = new PrismaClient();

// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–æ–º–ø—Ç–æ–≤
const promptGenerators = {
  // –°—Ç—Ä—É–∫—Ç—É—Ä–∞: —Ç–∏–ø_–ø—Ä–æ–º–ø—Ç–∞ -> –≤–∞—Ä–∏–∞—Ü–∏–∏
  strategy: {
    titleTemplates: [
      "–ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è {—Å—Ç—Ä–∞—Ç–µ–≥–∏—è} –¥–ª—è {–æ–±—ä–µ–∫—Ç}",
      "{—Å—Ç—Ä–∞—Ç–µ–≥–∏—è} —Ä–∞–∑–≤–∏—Ç–∏—è {–æ–±—ä–µ–∫—Ç} –Ω–∞ {–ø–µ—Ä–∏–æ–¥}",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è {—Å—Ç—Ä–∞—Ç–µ–≥–∏—è} –¥–ª—è {–æ–±—ä–µ–∫—Ç}",
      "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è {—Å—Ç—Ä–∞—Ç–µ–≥–∏—è} {–æ–±—ä–µ–∫—Ç} —Å {–º–µ—Ç–æ–¥}"
    ],
    strategies: ["—Å—Ç—Ä–∞—Ç–µ–≥–∏—è", "—Å–∏—Å—Ç–µ–º–∞", "–º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è", "–ø–æ–¥—Ö–æ–¥", "–∫–æ–Ω—Ü–µ–ø—Ü–∏—è"],
    objects: ["–±–∏–∑–Ω–µ—Å–∞", "–∫–æ–º–ø–∞–Ω–∏–∏", "–ø—Ä–æ–µ–∫—Ç–∞", "–ø—Ä–æ–¥—É–∫—Ç–∞", "—É—Å–ª—É–≥–∏"],
    periods: ["–≥–æ–¥", "3 –≥–æ–¥–∞", "5 –ª–µ—Ç", "6 –º–µ—Å—è—Ü–µ–≤"],
    methods: ["–∞–Ω–∞–ª–∏–∑–æ–º —Ä—ã–Ω–∫–∞", "—Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–º–∏ —Ä–µ—à–µ–Ω–∏—è–º–∏"]
  },

  content: {
    titleTemplates: [
      "–°–æ–∑–¥–∞–Ω–∏–µ {—Ç–∏–ø_–∫–æ–Ω—Ç–µ–Ω—Ç–∞} –¥–ª—è {–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞} –≤ —Å—Ç–∏–ª–µ {—Å—Ç–∏–ª—å}",
      "{—Ç–∏–ø_–∫–æ–Ω—Ç–µ–Ω—Ç–∞} –¥–ª—è {–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞} —Å {—ç–ª–µ–º–µ–Ω—Ç}",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π {—Ç–∏–ø_–∫–æ–Ω—Ç–µ–Ω—Ç–∞} –≤ {—Å—Ç–∏–ª—å} –¥–ª—è {–ø–ª–∞—Ç—Ñ–æ—Ä–º–∞}"
    ],
    contentTypes: ["–≤–∏–¥–µ–æ", "–ø–æ—Å—Ç", "—Å—Ç–∞—Ç—å—è", "–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è", "–≥—Ä–∞—Ñ–∏–∫–∞"],
    platforms: ["Instagram", "YouTube", "TikTok", "LinkedIn", "–±–ª–æ–≥"],
    styles: ["–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–º", "–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–º", "–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–º", "—è—Ä–∫–æ–º", "—ç–ª–µ–≥–∞–Ω—Ç–Ω–æ–º"],
    elements: ["—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º–∏ —Ç—Ä–∏–≥–≥–µ—Ä–∞–º–∏", "–≤–∏–∑—É–∞–ª—å–Ω—ã–º–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏", "–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–æ–≤–µ—Ç–∞–º–∏"]
  },

  development: {
    titleTemplates: [
      "–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ {—Ç–∏–ø_–ø—Ä–æ–µ–∫—Ç–∞} —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º {—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è}",
      "{—Ç–∏–ø_–ø—Ä–æ–µ–∫—Ç–∞} –Ω–∞ {—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è} –¥–ª—è {—Ü–µ–ª—å}",
      "–°–æ–∑–¥–∞–Ω–∏–µ {—Ç–∏–ø_–ø—Ä–æ–µ–∫—Ç–∞} —Å {—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª}"
    ],
    projectTypes: ["–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", "–º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è", "—Å–∏—Å—Ç–µ–º—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è", "–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"],
    technologies: ["React", "Node.js", "Python", "AI-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π", "–±–∞–∑ –¥–∞–Ω–Ω—ã—Ö"],
    goals: ["–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤", "–ø–æ–≤—ã—à–µ–Ω–∏—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏", "—É–ª—É—á—à–µ–Ω–∏—è UX"],
    functionalities: ["–∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–º –∞–Ω–∞–ª–∏–∑–æ–º", "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–µ–π", "–ø–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏–µ–π"]
  },

  design: {
    titleTemplates: [
      "{—Ç–∏–ø_–¥–∏–∑–∞–π–Ω–∞} –≤ {—Å—Ç–∏–ª—å} –¥–ª—è {–æ–±—ä–µ–∫—Ç}",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π {—Ç–∏–ø_–¥–∏–∑–∞–π–Ω–∞} —Å {—ç–ª–µ–º–µ–Ω—Ç} –≤ {—Å—Ç–∏–ª—å}",
      "–°–æ–∑–¥–∞–Ω–∏–µ {—Ç–∏–ø_–¥–∏–∑–∞–π–Ω–∞} –¥–ª—è {–æ–±—ä–µ–∫—Ç} –≤ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ {—Å—Ç–∏–ª—å}"
    ],
    designTypes: ["–ª–æ–≥–æ—Ç–∏–ø", "–±—Ä–µ–Ω–¥–∏–Ω–≥", "–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å", "–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π –¥–∏–∑–∞–π–Ω", "–∏–ª–ª—é—Å—Ç—Ä–∞—Ü–∏—è"],
    styles: ["–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–æ–º", "—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–º", "–∫–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–º", "–∫—Ä–µ–∞—Ç–∏–≤–Ω–æ–º", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–Ω–æ–º"],
    objects: ["–∫–æ–º–ø–∞–Ω–∏–∏", "–ø—Ä–æ–¥—É–∫—Ç–∞", "–±—Ä–µ–Ω–¥–∞", "—Å—Ç–∞—Ä—Ç–∞–ø–∞"],
    elements: ["–≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏", "—Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–æ–π", "—Ü–≤–µ—Ç–æ–≤–æ–π –ø–∞–ª–∏—Ç—Ä–æ–π"]
  },

  analysis: {
    titleTemplates: [
      "{—Ç–∏–ø_–∞–Ω–∞–ª–∏–∑–∞} –¥–∞–Ω–Ω—ã—Ö –¥–ª—è {—Ü–µ–ª—å} –≤ {–æ–±–ª–∞—Å—Ç—å}",
      "–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π {—Ç–∏–ø_–∞–Ω–∞–ª–∏–∑–∞} —Å {–º–µ—Ç–æ–¥} –¥–ª—è {—Ü–µ–ª—å}",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π {—Ç–∏–ø_–∞–Ω–∞–ª–∏–∑–∞} {–æ–±–ª–∞—Å—Ç—å} —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º {–º–µ—Ç–æ–¥}"
    ],
    analysisTypes: ["–∞–Ω–∞–ª–∏–∑", "–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", "–º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ", "–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ"],
    goals: ["–ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π", "–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤", "–ø—Ä–æ–≥–Ω–æ–∑–∞ —Ç—Ä–µ–Ω–¥–æ–≤"],
    areas: ["–±–∏–∑–Ω–µ—Å–∞", "—Ä—ã–Ω–∫–∞", "–ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏"],
    methods: ["—Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–µ—Ç–æ–¥–∞–º–∏", "–º–∞—à–∏–Ω–Ω—ã–º –æ–±—É—á–µ–Ω–∏–µ–º", "AI-–∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏"]
  },

  education: {
    titleTemplates: [
      "–û–±—É—á–∞—é—â–∏–π {–º–∞—Ç–µ—Ä–∏–∞–ª} –ø–æ —Ç–µ–º–µ {—Ç–µ–º–∞} –¥–ª—è {–∞—É–¥–∏—Ç–æ—Ä–∏—è}",
      "{–º–∞—Ç–µ—Ä–∏–∞–ª} –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è {—Ç–µ–º–∞} —Å {–º–µ—Ç–æ–¥}",
      "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫—É—Ä—Å {—Ç–µ–º–∞} —Å {–º–µ—Ç–æ–¥} –æ–±—É—á–µ–Ω–∏—è"
    ],
    materials: ["–∫—É—Ä—Å", "—Ç—É—Ç–æ—Ä–∏–∞–ª", "–≥–∞–π–¥", "–ø—Ä–æ–≥—Ä–∞–º–º–∞ –æ–±—É—á–µ–Ω–∏—è"],
    topics: ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è", "–º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞", "–¥–∏–∑–∞–π–Ω–∞", "–±–∏–∑–Ω–µ—Å–∞", "—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π"],
    audiences: ["–Ω–∞—á–∏–Ω–∞—é—â–∏—Ö", "–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π", "–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤"],
    methods: ["–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–º–∏ –∑–∞–¥–∞–Ω–∏—è–º–∏", "–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π", "–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–æ–º"]
  },

  productivity: {
    titleTemplates: [
      "–°–∏—Å—Ç–µ–º–∞ {—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ} –¥–ª—è {–æ–±—ä–µ–∫—Ç} —Å {–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç}",
      "{—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ} –∑–∞–¥–∞—á–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º {–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç}",
      "–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ {—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ} {–æ–±—ä–µ–∫—Ç} —á–µ—Ä–µ–∑ {–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç}"
    ],
    managements: ["—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ", "–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è", "–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è", "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è"],
    objects: ["–ø—Ä–æ–µ–∫—Ç–∞–º–∏", "–∫–æ–º–∞–Ω–¥–æ–π", "–ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏", "–∑–∞–¥–∞—á–∞–º–∏"],
    tools: ["AI-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤", "—Ü–∏—Ñ—Ä–æ–≤—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º", "–∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏"]
  }
};

// –ú–∞–ø–ø–∏–Ω–≥ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫ —Ç–∏–ø–∞–º –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤
const categoryToGeneratorType = {
  'marketing-writing': 'content',
  'video': 'content',
  'music': 'content',
  'business': 'strategy',
  'creative': 'design',
  'design': 'design',
  'education': 'education',
  'chat': 'content',
  'code': 'development',
  'analysis': 'analysis',
  'productivity': 'productivity',
  'research': 'analysis',
  'image': 'design',
  'audio': 'content',
  'photo-editing': 'design',
  'photography': 'design',
  'legal': 'strategy',
  'health': 'strategy',
  'finance': 'strategy',
  'seo': 'strategy',
  'animation': 'content',
  'gaming': 'development',
  'cooking': 'education',
  '3d': 'design'
};

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–ø—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–∏–ø–∞
function generatePromptForCategory(categorySlug, index) {
  const generatorType = categoryToGeneratorType[categorySlug];
  if (!generatorType || !promptGenerators[generatorType]) {
    // Fallback –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä
    return generateFallbackPrompt(categorySlug, index);
  }

  const generator = promptGenerators[generatorType];
  const titleTemplate = generator.titleTemplates[Math.floor(Math.random() * generator.titleTemplates.length)];

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞—Ä–∞–Ω–µ–µ
  const variables = generateVariablesForType(generatorType);

  // –ó–∞–ø–æ–ª–Ω—è–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫
  let title = titleTemplate;
  Object.entries(variables).forEach(([key, value]) => {
    const regex = new RegExp(`\\{${key}\\}`, 'g');
    title = title.replace(regex, value);
  });

  // –î–æ–±–∞–≤–ª—è–µ–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  title += ` #${index + 1}`;

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ–ø–∏—Å–∞–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞
  const { description, prompt } = generatePromptContent(categorySlug, generatorType, variables);

  return {
    title,
    description,
    prompt,
    model: CONTENT_STRATEGY.categoryModelMapping[categorySlug]?.[0] || 'GPT-5',
    tags: generateTagsForCategory(categorySlug, generatorType),
    categorySlug
  };
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–∏–ø–∞ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
function generateVariablesForType(generatorType) {
  const variables = {};
  const generator = promptGenerators[generatorType];

  Object.keys(generator).forEach(key => {
    if (key !== 'titleTemplates' && Array.isArray(generator[key])) {
      variables[key] = generator[key][Math.floor(Math.random() * generator[key].length)];
    }
  });

  return variables;
}

// Fallback –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤
function generateFallbackPrompt(categorySlug, index) {
  const categoryNames = {
    'marketing-writing': '–Ω–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤',
    'video': '–≤–∏–¥–µ–æ',
    'music': '–º—É–∑—ã–∫–∞',
    'business': '–±–∏–∑–Ω–µ—Å',
    'creative': '—Ç–≤–æ—Ä—á–µ—Å—Ç–≤–æ',
    'design': '–¥–∏–∑–∞–π–Ω',
    'education': '–æ–±—É—á–µ–Ω–∏–µ',
    'chat': '—á–∞—Ç',
    'code': '–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ',
    'analysis': '–∞–Ω–∞–ª–∏–∑',
    'productivity': '–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å',
    'research': '–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è',
    'image': '–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è',
    'audio': '–∞—É–¥–∏–æ',
    'photo-editing': '–æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ç–æ',
    'photography': '—Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è',
    'legal': '—é—Ä–∏—Å–ø—Ä—É–¥–µ–Ω—Ü–∏—è',
    'health': '–∑–¥–æ—Ä–æ–≤—å–µ',
    'finance': '—Ñ–∏–Ω–∞–Ω—Å—ã',
    'seo': 'SEO',
    'animation': '–∞–Ω–∏–º–∞—Ü–∏—è',
    'gaming': '–∏–≥—Ä—ã',
    'cooking': '–∫—É–ª–∏–Ω–∞—Ä–∏—è',
    '3d': '3D'
  };

  const categoryName = categoryNames[categorySlug] || categorySlug;

  return {
    title: `–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –¥–ª—è ${categoryName} #${index + 1}`,
    description: `–°–æ–∑–¥–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤ —Å—Ñ–µ—Ä–µ ${categoryName} —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫.`,
    prompt: `–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –≤ –æ–±–ª–∞—Å—Ç–∏ ${categoryName}. –°–æ–∑–¥–∞–π –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç, —Å–ª–µ–¥—É—è –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.

–û–°–ù–û–í–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∏ –≥–ª—É–±–æ–∫–∏–µ –∑–Ω–∞–Ω–∏—è
‚Ä¢ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚Ä¢ –ö–∞—á–µ—Å—Ç–≤–æ –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è
‚Ä¢ –ê–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–Ω–¥–µ–Ω—Ü–∏–∏

–°–¢–†–£–ö–¢–£–†–ê –†–ê–ë–û–¢–´:
1. –ê–Ω–∞–ª–∏–∑ –∑–∞–¥–∞—á–∏ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π
2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ –æ–±–ª–∞—Å—Ç–∏
3. –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ—à–µ–Ω–∏—è
4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

–§–ò–ù–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢: –ì–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º –∏ –æ–∂–∏–¥–∞–Ω–∏—è–º —ç–∫—Å–ø–µ—Ä—Ç–æ–≤ –≤ –¥–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.`,
    model: CONTENT_STRATEGY.categoryModelMapping[categorySlug]?.[0] || 'GPT-5',
    tags: `${categoryName},–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π,–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π,–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π`,
    categorySlug
  };
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞
function generatePromptContent(categorySlug, generatorType, variables) {
  const baseDescriptions = {
    strategy: "–°–æ–∑–¥–∞–µ—Ç –∫–æ–º–ø–ª–µ–∫—Å–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å –∞–Ω–∞–ª–∏–∑–æ–º, –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π.",
    content: "–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å —É—á–µ—Ç–æ–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –∏ —Ü–µ–ª–µ–≤–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.",
    development: "–°–æ–∑–¥–∞–µ—Ç —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏.",
    design: "–†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –¥–∏–∑–∞–π–Ω-–∫–æ–Ω—Ü–µ–ø—Ü–∏—é —Å —É—á–µ—Ç–æ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–¥–æ–≤ –∏ –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ –≤–∏–∑—É–∞–ª—å–Ω–æ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.",
    analysis: "–ü—Ä–æ–≤–æ–¥–∏—Ç –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –∏ —ç–∫—Å–ø–µ—Ä—Ç–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤.",
    education: "–°–æ–∑–¥–∞–µ—Ç –æ–±—É—á–∞—é—â–∏–π –º–∞—Ç–µ—Ä–∏–∞–ª —Å —É—á–µ—Ç–æ–º –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –º–µ—Ç–æ–¥–∏–∫.",
    productivity: "–û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å—ã –∏ –ø–æ–≤—ã—à–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤."
  };

  const description = baseDescriptions[generatorType] || "–°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞.";

  // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç –ø—Ä–æ–º–ø—Ç–∞
  let prompt = `–¢—ã ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–µ—Ä—Ç –≤ —Å–≤–æ–µ–π –æ–±–ª–∞—Å—Ç–∏. –°–æ–∑–¥–∞–π –≤—ã—Å–æ–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ, —Å–ª–µ–¥—É—è –ª—É—á—à–∏–º –ø—Ä–∞–∫—Ç–∏–∫–∞–º –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º.

–ö–û–ù–¢–ï–ö–°–¢ –ó–ê–î–ê–ß–ò:
‚Ä¢ –û–±–ª–∞—Å—Ç—å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è: ${Object.values(variables).join(', ')}
‚Ä¢ –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞—á–µ—Å—Ç–≤—É: –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
‚Ä¢ –¶–µ–ª–µ–≤–∞—è –∞—É–¥–∏—Ç–æ—Ä–∏—è: —ç–∫—Å–ø–µ—Ä—Ç—ã –∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—ã
‚Ä¢ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è

–ú–ï–¢–û–î–û–õ–û–ì–ò–Ø –†–ê–ë–û–¢–´:
1. –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∏ –∑–∞–¥–∞—á–∏
2. –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤ –∏ –ª—É—á—à–∏—Ö –ø—Ä–∞–∫—Ç–∏–∫
3. –î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –∞—Å–ø–µ–∫—Ç–æ–≤ —Ä–µ—à–µ–Ω–∏—è
4. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –¥–æ—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–û–°–û–ë–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:
‚Ä¢ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –ø–æ–¥—Ö–æ–¥–æ–≤
‚Ä¢ –û–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤—ã—Å–æ–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏
‚Ä¢ –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚Ä¢ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º

–§–ò–ù–ê–õ–¨–ù–´–ô –†–ï–ó–£–õ–¨–¢–ê–¢: –ü–æ–ª–Ω–æ–µ, –≥–æ—Ç–æ–≤–æ–µ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é —Ä–µ—à–µ–Ω–∏–µ, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –æ–∂–∏–¥–∞–Ω–∏—è–º –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª–æ–≤ –≤ –¥–∞–Ω–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏.`;

  return { description, prompt };
}

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ–≥–æ–≤
function generateTagsForCategory(categorySlug, generatorType) {
  const baseTags = {
    strategy: "—Å—Ç—Ä–∞—Ç–µ–≥–∏—è,–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ,—Ä–∞–∑–≤–∏—Ç–∏–µ,–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è",
    content: "–∫–æ–Ω—Ç–µ–Ω—Ç,—Å–æ–∑–¥–∞–Ω–∏–µ,–ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ,–∫–∞—á–µ—Å—Ç–≤–æ",
    development: "—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞,—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏,–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ,—Ä–µ—à–µ–Ω–∏–µ",
    design: "–¥–∏–∑–∞–π–Ω,–∫—Ä–µ–∞—Ç–∏–≤,–≤–∏–∑—É–∞–ª,—ç—Å—Ç–µ—Ç–∏–∫–∞",
    analysis: "–∞–Ω–∞–ª–∏–∑,–¥–∞–Ω–Ω—ã–µ,–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ,—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞",
    education: "–æ–±—É—á–µ–Ω–∏–µ,–∫—É—Ä—Å,–∑–Ω–∞–Ω–∏—è,—Ä–∞–∑–≤–∏—Ç–∏–µ",
    productivity: "–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—å,—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å,–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è,–ø—Ä–æ—Ü–µ—Å—Å—ã"
  };

  return baseTags[generatorType] || "–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π,–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π,–ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–π";
}

// –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
async function generateUniversalPrompts() {
  console.log('üéØ –ó–ê–ü–£–°–ö –£–ù–ò–í–ï–†–°–ê–õ–¨–ù–û–ô –ì–ï–ù–ï–†–ê–¶–ò–ò 300 –ü–†–û–ú–ü–¢–û–í...\n');

  const author = await prisma.user.findFirst({
    where: {
      NOT: { email: 'alice@prompthub.local' },
      prompts: { some: {} }
    },
    select: { id: true }
  });

  if (!author) {
    throw new Error('–ù–µ –Ω–∞–π–¥–µ–Ω –ø–æ–¥—Ö–æ–¥—è—â–∏–π –∞–≤—Ç–æ—Ä –¥–ª—è –ø—Ä–æ–º–ø—Ç–æ–≤');
  }

  const results = [];
  let totalGenerated = 0;

  for (const [categorySlug, targetCount] of Object.entries(CONTENT_STRATEGY.categories)) {
    if (categorySlug === 'nsfw') continue; // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º NSFW

    console.log(`\nüìÇ –ì–ï–ù–ï–†–ê–¶–ò–Ø –î–õ–Ø –ö–ê–¢–ï–ì–û–†–ò–ò: ${categorySlug} (${targetCount} –ø—Ä–æ–º–ø—Ç–æ–≤)`);

    const categoryRecord = await prisma.category.findUnique({
      where: { slug: categorySlug }
    });

    if (!categoryRecord) {
      console.log(`‚ùå –ö–∞—Ç–µ–≥–æ—Ä–∏—è ${categorySlug} –Ω–µ –Ω–∞–π–¥–µ–Ω–∞, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º`);
      continue;
    }

    for (let i = 0; i < targetCount; i++) {
      const promptData = generatePromptForCategory(categorySlug, i);

      // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ–º –¥–ª–∏–Ω—É
      if (promptData.prompt.length < 500) {
        promptData.prompt += '\n\n–î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø:\n‚Ä¢ –û–±–µ—Å–ø–µ—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω—É—é –ø—Ä–æ—Ä–∞–±–æ—Ç–∫—É –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞\n‚Ä¢ –í–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏ –∫–µ–π—Å—ã\n‚Ä¢ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞\n‚Ä¢ –£–∫–∞–∑–∞—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é\n‚Ä¢ –î–æ–±–∞–≤–∏—Ç—å –ø–ª–∞–Ω –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤';
      }

      if (promptData.prompt.length > 1000) {
        const sentences = promptData.prompt.split('. ');
        promptData.prompt = sentences.slice(0, -3).join('. ') + '.';
      }

      const finalPromptData = {
        title: promptData.title,
        description: promptData.description,
        prompt: promptData.prompt,
        model: promptData.model,
        lang: '–†—É—Å—Å–∫–∏–π',
        category: categorySlug,
        categoryId: categoryRecord.id,
        tags: promptData.tags,
        license: 'CC-BY',
        authorId: author.id
      };

      results.push(finalPromptData);
      totalGenerated++;

      if (totalGenerated % 50 === 0) {
        console.log(`‚úÖ –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ ${totalGenerated}/300 –ø—Ä–æ–º–ø—Ç–æ–≤`);
      }
    }
  }

  console.log(`\nüéâ –ì–ï–ù–ï–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê! –°–æ–∑–¥–∞–Ω–æ ${results.length} —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤`);
  return results;
}

async function main() {
  try {
    const prompts = await generateUniversalPrompts();

    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–æ–º–ø—Ç—ã
    console.log('\nüíæ –ù–ê–ß–ò–ù–ê–ï–ú –°–û–•–†–ê–ù–ï–ù–ò–ï –ü–†–û–ú–ü–¢–û–í...\n');

    let savedCount = 0;
    const batchSize = 10;

    for (let i = 0; i < prompts.length; i += batchSize) {
      const batch = prompts.slice(i, i + batchSize);

      await prisma.$transaction(async (tx) => {
        for (const promptData of batch) {
          try {
            const existingPrompt = await tx.prompt.findUnique({
              where: {
                title_authorId: {
                  title: promptData.title,
                  authorId: promptData.authorId
                }
              }
            });

            if (!existingPrompt) {
              await tx.prompt.create({ data: promptData });
              savedCount++;
            } else {
              console.log(`‚ö†Ô∏è  –ü—Ä–æ–º–ø—Ç "${promptData.title}" —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç`);
            }
          } catch (error) {
            console.log(`‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è: ${error.message}`);
          }
        }
      });

      console.log(`‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–æ ${savedCount}/${prompts.length} –ø—Ä–æ–º–ø—Ç–æ–≤`);
    }

    console.log(`\nüéâ –°–û–•–†–ê–ù–ï–ù–ò–ï –ó–ê–í–ï–†–®–ï–ù–û! –î–æ–±–∞–≤–ª–µ–Ω–æ ${savedCount} –Ω–æ–≤—ã—Ö –ø—Ä–æ–º–ø—Ç–æ–≤`);

    const finalCount = await prisma.prompt.count();
    console.log(`üìà –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–º–ø—Ç–æ–≤ –≤ –±–∞–∑–µ: ${finalCount}`);

  } catch (error) {
    console.error('‚ùå –û–®–ò–ë–ö–ê:', error);
  } finally {
    await prisma.$disconnect();
  }
}

if (require.main === module) {
  main();
}

module.exports = { generateUniversalPrompts };
