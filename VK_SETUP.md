# Настройка авторизации через ВКонтакте

## 1. Создание приложения ВКонтакте

1. Перейдите на [VK Developers](https://vk.com/dev)
2. Войдите в свой аккаунт ВКонтакте
3. Нажмите "Создать приложение"
4. Заполните форму:
   - **Название**: PromptHub (или любое другое)
   - **Платформа**: Standalone-приложение
   - **Адрес сайта**: `http://localhost:3000` (для разработки)
   - **Базовый домен**: `localhost` (для разработки)

## 2. Настройка OAuth

1. В настройках приложения перейдите в раздел "Настройки"
2. Найдите секцию "Авторизация пользователя"
3. Добавьте авторизованные URI перенаправления:
   - `http://localhost:3000/api/auth/callback/vk` (для разработки)
   - `https://yourdomain.com/api/auth/callback/vk` (для продакшена)
4. Скопируйте:
   - **Application ID** (это ваш `VK_CLIENT_ID`)
   - **Secure key** (это ваш `VK_CLIENT_SECRET`)

## 3. Переменные окружения

Добавьте в файл `.env.local`:

```env
# VK OAuth
VK_CLIENT_ID=your-vk-application-id
VK_CLIENT_SECRET=your-vk-secure-key
```

## 4. Проверка работы

1. Запустите приложение: `npm run dev`
2. Перейдите на страницу входа
3. Выберите "Войти через ВКонтакте"
4. Авторизуйтесь через ВКонтакте
5. Проверьте, что вы успешно вошли в систему

## 5. Особенности ВКонтакте OAuth

- ВКонтакте требует подтверждения приложения для публичного использования
- В режиме разработки приложение работает только с тестовыми аккаунтами
- Для продакшена нужно подать заявку на публикацию приложения

## 6. Устранение неполадок

### Ошибка "Invalid redirect URI"
- Проверьте, что URI перенаправления точно совпадает с настройками в приложении ВКонтакте
- Убедитесь, что используется правильный протокол (http/https)

### Ошибка "Application is not available"
- Приложение может быть в режиме разработки
- Добавьте свой аккаунт в список тестовых пользователей

### Ошибка "Access denied"
- Проверьте правильность `VK_CLIENT_ID` и `VK_CLIENT_SECRET`
- Убедитесь, что приложение активно в настройках ВКонтакте
