# üîê –ù–ê–°–¢–†–û–ô–ö–ê GOOGLE OAUTH –î–õ–Ø –õ–û–ö–ê–õ–¨–ù–û–ô –†–ê–ó–†–ê–ë–û–¢–ö–ò

## üìã –ü–û–®–ê–ì–û–í–ê–Ø –ò–ù–°–¢–†–£–ö–¶–ò–Ø

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ .env.local —Ñ–∞–π–ª**

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º:

```bash
# NextAuth Configuration
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=D7Seqs48GNrIx519i7S8WqyQBoAwLiImJkegciWv/nU=

# Google OAuth (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à–∏ credentials)
GOOGLE_CLIENT_ID=–≤–∞—à-client-id-–∑–¥–µ—Å—å
GOOGLE_CLIENT_SECRET=–≤–∞—à-client-secret-–∑–¥–µ—Å—å

# Admin Configuration  
ADMIN_EMAIL=–≤–∞—à-email@gmail.com
ADMIN_API_KEY=admin-secret-key-2024

# Database
DATABASE_URL="file:./dev.db"

# Auth debug/testing
AUTH_FORCE_TEST=0
```

### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Google Cloud Console**

#### 2.1 –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://console.cloud.google.com/
2. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç: "PromptHub Local"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç

#### 2.2 –í–∫–ª—é—á–∏—Ç–µ Google+ API
1. **APIs & Services** ‚Üí **Library**
2. –ù–∞–π–¥–∏—Ç–µ **"Google+ API"** 
3. –ù–∞–∂–º–∏—Ç–µ **"Enable"**

#### 2.3 –°–æ–∑–¥–∞–π—Ç–µ OAuth consent screen
1. **APIs & Services** ‚Üí **OAuth consent screen**
2. **User Type**: External
3. **App name**: PromptHub
4. **User support email**: –≤–∞—à email
5. **Developer contact**: –≤–∞—à email
6. **Save & Continue** ‚Üí **Save & Continue** ‚Üí **Save & Continue**

#### 2.4 –°–æ–∑–¥–∞–π—Ç–µ OAuth 2.0 credentials
1. **APIs & Services** ‚Üí **Credentials**
2. **+ CREATE CREDENTIALS** ‚Üí **OAuth client ID**
3. **Application type**: Web application
4. **Name**: PromptHub Local
5. **Authorized redirect URIs** –¥–æ–±–∞–≤—å—Ç–µ:
   ```
   http://localhost:3000/api/auth/callback/google
   http://localhost:3000
   ```
6. **Save**

#### 2.5 –°–∫–æ–ø–∏—Ä—É–π—Ç–µ credentials
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:
- **Client ID**: `123456789-abcdefg.apps.googleusercontent.com`
- **Client Secret**: `GOCSPX-abcdefghijklmnop`

### **–®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ .env.local**

–ó–∞–º–µ–Ω–∏—Ç–µ –≤ `.env.local`:
```bash
GOOGLE_CLIENT_ID=–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-client-id
GOOGLE_CLIENT_SECRET=–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-client-secret
ADMIN_EMAIL=–≤–∞—à-—Ä–µ–∞–ª—å–Ω—ã–π-email@gmail.com
```

### **–®–∞–≥ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä**

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
npm install

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
npx prisma db push

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
npm run dev
```

### **–®–∞–≥ 5: –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**

1. –û—Ç–∫—Ä–æ–π—Ç–µ: http://localhost:3000
2. –ù–∞–∂–º–∏—Ç–µ **"–í–æ–π—Ç–∏"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
3. –í—ã–±–µ—Ä–∏—Ç–µ **"Sign in with Google"**
4. –í–æ–π–¥–∏—Ç–µ —Å –≤–∞—à–∏–º Google –∞–∫–∫–∞—É–Ω—Ç–æ–º
5. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –≤—Ö–æ–¥–∞ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: http://localhost:3000/admin

## üéØ **–ß–¢–û –ü–û–õ–£–ß–ò–¢–ï:**

- ‚úÖ **–õ–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è** —á–µ—Ä–µ–∑ Google
- ‚úÖ **–î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏** –Ω–∞ localhost:3000/admin
- ‚úÖ **–ü–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å** –∫–∞–∫ –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ
- ‚úÖ **–û—Ç–ª–∞–¥–∫–∞ –∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ

## üîß **–í–ê–ñ–ù–´–ï –ú–û–ú–ï–ù–¢–´:**

1. **Redirect URI** –¥–æ–ª–∂–µ–Ω —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—Ç—å: `http://localhost:3000/api/auth/callback/google`
2. **NEXTAUTH_URL** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å: `http://localhost:3000`
3. **ADMIN_EMAIL** –¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å email –≤–∞—à–µ–≥–æ Google –∞–∫–∫–∞—É–Ω—Ç–∞
4. –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env.local` –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä: `npm run dev`

## üö® **–ï–°–õ–ò –ù–ï –†–ê–ë–û–¢–ê–ï–¢:**

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Å–µ URLs –≤ Google Console —Ç–æ—á–Ω–æ —Å–æ–≤–ø–∞–¥–∞—é—Ç
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Google+ API –≤–∫–ª—é—á–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ OAuth consent screen –Ω–∞—Å—Ç—Ä–æ–µ–Ω
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–µ—Ä–≤–µ—Ä –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env.local
5. –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à –±—Ä–∞—É–∑–µ—Ä–∞

## üìû **–ü–û–î–î–ï–†–ñ–ö–ê:**

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –ö–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
- –¢–µ—Ä–º–∏–Ω–∞–ª –Ω–∞ –æ—à–∏–±–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
- Google Cloud Console –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–∫

**–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å Google OAuth!** üöÄ
